<div class="row wrap" [ngClass]="rolesUser.length === 0 ? 'd-none':''">
  <div class="col-md-12">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['../']">Phoenix Reporting</a></li>
        <li class="breadcrumb-item active" aria-current="page">Профиль</li>
      </ol>
    </nav>
  </div>

  <div class="col-lg-7 col-md-6 mb-3 two">
    <div class="card">
      <div class="card-header">
        <h4 class="font-weight-bold">Изменить данные</h4>
      </div>
      <div class="card-body">
        <form #dataForm="ngForm">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fas fa-user-tie pink mr-2"></i>Имя:
                    </span>
                  </div>
                  <input type="text" class="form-control" id="name" name="name" minlength="3"
                         [(ngModel)]="name" required>
                </div>
                <small class="form-text text-muted">Не обязательно вводить полное имя</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fas fa-phone pink mr-2"></i>Телефон:
                    </span>
                  </div>
                  <input type="text" class="form-control" id="phone" name="phone"
                         [ngModel]="phone" (ngModelChange)="phone = $event"
                         [dropSpecialCharacters]="true" mask="0(000)000-00-00">
                </div>
                <small class="form-text text-muted">Добавте адрес номер телефона.</small>
              </div>
            </div>
            <div class="col-md-12">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fas fa-envelope pink mr-2"></i>Email:
                    </span>
                  </div>
                  <input type="text" class="form-control" id="email" placeholder="Email" name="email"
                         [(ngModel)]="email">
                </div>
                <small class="form-text text-muted">Добавте адрес электронной почты.</small>
              </div>
            </div>
          </div>


          <div class="form-group text-center">
            <button class="btn-info btn pl-4 pr-4" [disabled]="dataForm.form.invalid"
                    (click)="editProfile({name: name, email: email, phone: phone})">Сохранить
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="card mt-3">
      <div class="card-header">
        <h4 class="font-weight-bold">Сменить пароль</h4>
      </div>
      <div class="card-body">
        <form #passwordForm="ngForm">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="pass1"><i class="fas fa-key pink"></i></span>
                  </div>
                  <input type="password" class="form-control" id="password1" placeholder="Придумайте пароль" minlength="4"
                         name="password1"
                         [(ngModel)]="password1" required>
                </div>
                <small class="form-text text-muted">Пароль должен содержать не менее 4 символов.</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="pass2"><i class="fas fa-key pink"></i></span>
                  </div>
                  <input type="password" class="form-control" id="password2" placeholder="Повторите пароль" minlength="4"
                         name="password2"
                         [(ngModel)]="password2" required>
                </div>
                <small class="form-text text-muted">Введите пароль еще раз.</small>
              </div>
            </div>
          </div>

          <div class="form-group text-center">
            <button class="btn-info btn pl-4 pr-4" [disabled]="passwordForm.form.invalid || password1 != password2"
                    (click)="editPassword({password1:password1, password2: password2}); passwordForm.reset()">Сохранить
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-lg-5 mb-3 col-md-6 one">
    <div class="card h-100">
      <div class="row">
        <div class="col-md-12">
          <div class="card-icon text-right text-center">
            <i class="fas fa-user-astronaut"></i>
          </div>
        </div>
        <div class="col-md-12">
          <h4 class="title font-weight-bold text-center">{{infoUser.name}}</h4>
          <div class="text-muted text-center"><i style="color: #FF6384" class="fas fa-circle mr-1"></i>online</div>
        </div>
      </div>
      <div class="card-body">

        <div class="dropdown-divider mt-3 mb-3"></div>

        <div class="row">
          <div class="col-lg-6" *ngIf="parksUser.length != 0">
            <h5 class="mb-3">Парки</h5>
            <div class="">
              <div class=" mb-3 ml-3" *ngFor="let park of parksUser"><i
                class="fab fa-fort-awesome purple mr-3"></i>{{park.name}}
              </div>
            </div>
          </div>
          <div class="col-lg-6" *ngIf="infoUser.email || infoUser.phone">
            <h5 class="mb-3">Данные</h5>
            <div class="">
              <div *ngIf="infoUser.email" class=" mb-3 ml-3"><i class="pink fas fa-envelope mr-3"></i>{{infoUser.email}}
              </div>
              <div *ngIf="infoUser.phone" class=" mb-3 ml-3"><i class="pink fas fa-phone mr-3"></i>{{infoUser.phone |
                mask: '0(000)000-00-00'}}
              </div>
            </div>
          </div>
        </div>

        <!--<h5 class="mb-3">Привилегии</h5>-->
        <!--<div class="">-->
          <!--<div class=" mb-3 ml-3" *ngFor="let role of rolesUser"><i class="fab fa-keycdn yellow mr-3"></i>{{role.name_display}}-->
          <!--</div>-->
        <!--</div>-->
      </div>
    </div>
  </div>
</div>
